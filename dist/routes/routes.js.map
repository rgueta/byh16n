{"version":3,"sources":["../../src/routes/routes.js"],"names":["module","exports","app","model","io","socket","post","req","res","console","log","params","msg","emit","status","json","room","sockets","in","get","alert","JSON","parse"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB,UAASC,GAAT,EAAaC,KAAb,EAAmBC,EAAnB,EAAsB;AACnC,QAAMC,MAAM,GAAGD,EAAf;AAEAF,EAAAA,GAAG,CAACI,IAAJ,CAAS,aAAT,EAAuB,OAAOC,GAAP,EAAWC,GAAX,KAAmB;AAEtC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,MAAJ,CAAWC,GAAvB,EAHsC,CAItC;;AACAP,IAAAA,MAAM,CAACQ,IAAP,CAAY,OAAZ,EAAoB,cAApB;AACAL,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,iBAAY;AAAb,KAArB;AACH,GAPD;AASAb,EAAAA,GAAG,CAACI,IAAJ,CAAS,wBAAT,EAAkC,OAAOC,GAAP,EAAWC,GAAX,KAAmB;AACjD;AACA;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAqBH,GAAG,CAACI,MAAJ,CAAWC,GAAhC,GAAsC,UAAtC,GAAmDL,GAAG,CAACI,MAAJ,CAAWK,IAA1E;AACAZ,IAAAA,EAAE,CAACa,OAAH,CAAWC,EAAX,CAAcX,GAAG,CAACI,MAAJ,CAAWK,IAAzB,EAA+BH,IAA/B,CAAoC,OAApC,EAA6CN,GAAG,CAACI,MAAJ,CAAWC,GAAxD,EAJiD,CAKjD;;AAEAJ,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,iBAAYR,GAAG,CAACI,MAAJ,CAAWC;AAAxB,KAArB;AACH,GARD;AAUAV,EAAAA,GAAG,CAACiB,GAAJ,CAAQ,iBAAR,EAA0B,OAAOZ,GAAP,EAAWC,GAAX,KAAmB;AACzC;AACA;AACAH,IAAAA,MAAM,CAACQ,IAAP,CAAY,OAAZ,EAAoB,cAApB;AACAL,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,iBAAYR,GAAG,CAACI,MAAJ,CAAWC;AAAxB,KAArB;AACH,GALD;AAOAV,EAAAA,GAAG,CAACiB,GAAJ,CAAQ,wBAAR,EAAiC,OAAOZ,GAAP,EAAWC,GAAX,KAAmB;AAChD;AACA;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAqBH,GAAG,CAACI,MAAJ,CAAWC,GAAhC,GAAsC,UAAtC,GAAmDL,GAAG,CAACI,MAAJ,CAAWK,IAA1E;AACAZ,IAAAA,EAAE,CAACa,OAAH,CAAWC,EAAX,CAAcX,GAAG,CAACI,MAAJ,CAAWK,IAAzB,EAA+BH,IAA/B,CAAoC,OAApC,EAA6CN,GAAG,CAACI,MAAJ,CAAWC,GAAxD,EAJgD,CAKhD;;AAEAJ,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,iBAAYR,GAAG,CAACI,MAAJ,CAAWC;AAAxB,KAArB;AACH,GARD;AAWAV,EAAAA,GAAG,CAACiB,GAAJ,CAAQ,oBAAR,EAA6B,OAAOZ,GAAP,EAAWC,GAAX,KAAmB;AAC5CC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,UAAMU,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWf,GAAG,CAACI,MAAJ,CAAWS,KAAtB,CAAd;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBU,KAAK,CAACR,GAAvB,GAA6B,UAA7B,GAA0CQ,KAAK,CAACJ,IAA5D;AACAZ,IAAAA,EAAE,CAACa,OAAH,CAAWC,EAAX,CAAcE,KAAK,CAACJ,IAApB,EAA0BH,IAA1B,CAA+B,OAA/B,EAAwCO,KAAK,CAACR,GAA9C,EAL4C,CAM5C;;AAEAJ,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,iBAAYK,KAAK,CAACR;AAAnB,KAArB;AACH,GATD;AAaH,CArDD","sourcesContent":["module.exports = function(app,model,io){\r\n    const socket = io;\r\n    \r\n    app.post('/api/alerts',async (req,res) => {\r\n        \r\n        // console.log(req.body.message);\r\n        console.log(req.params.msg);\r\n        // io.sockets.in(req.params.room).emit('alert', ' - emmited..');\r\n        socket.emit('alert',' - emmited..');\r\n        res.status(201).json({'message' : 'req.body.message'});\r\n    });\r\n\r\n    app.post('/api/alerts/:msg/:room',async (req,res) => {\r\n        // const alert = JSON.parse(req.params.alert);\r\n        // console.log(alert);\r\n        console.log('3.- alert msg : ' + req.params.msg + ', room: ' + req.params.room);\r\n        io.sockets.in(req.params.room).emit('alert', req.params.msg);\r\n        // socket.emit('alert',' - emmited..');\r\n\r\n        res.status(201).json({'message' : req.params.msg});\r\n    });\r\n\r\n    app.get('/api/alerts:msg',async (req,res) => {\r\n        // console.log('alert msg : ' + req.body.msg + ', room: ' + req.params.room);\r\n        // io.sockets.in(req.params.room).emit('alert', ' - emmited..');\r\n        socket.emit('alert',' - emmited..');\r\n        res.status(201).json({'message' : req.params.msg});\r\n    });\r\n\r\n    app.get('/api/alerts/:msg/:room',async (req,res) => {\r\n        // const alert = JSON.parse(req.params.alert);\r\n        // console.log(alert);\r\n        console.log('4.- alert msg : ' + req.params.msg + ', room: ' + req.params.room);\r\n        io.sockets.in(req.params.room).emit('alert', req.params.msg);\r\n        // socket.emit('alert',' - emmited..');\r\n\r\n        res.status(201).json({'message' : req.params.msg});\r\n    });\r\n\r\n\r\n    app.get('/api/alerts/:alert',async (req,res) => {\r\n        console.log('si entre..')\r\n        const alert = JSON.parse(req.params.alert);\r\n        console.log(alert);\r\n        console.log('alert msg : ' + alert.msg + ', room: ' + alert.room);\r\n        io.sockets.in(alert.room).emit('alert', alert.msg);\r\n        // socket.emit('alert',' - emmited..');\r\n\r\n        res.status(201).json({'message' : alert.msg});\r\n    });\r\n\r\n\r\n\r\n}"],"file":"routes.js"}